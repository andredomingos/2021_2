{% from 'macros.html' import list_checkbox_macro, list_radio_macro, flash_messages with context %}

<!-- Rhone - Unsubscribe -->

<style type="text/css">
* {
font-family: 'Gibson', sans-serif;
}
body {
background:#EEEEEE;
color:#000000;
}
h1, h2, p, a {
margin: 0;
padding: 0;
}
h1 {
display: block;
font-size: 26px;
font-weight: 500;
line-height: 1.3;
text-align: center;
color: #000000;
}
h2 {
display: block;
font-size: 20px;
font-weight: 500;
line-height: 1.3;
text-align: center;
color: #000000;
}
p {
font-size: 16px;
font-weight: 400;
line-height: 1.5;
text-align: left;
color: #000000;
}
label {
display:block !important;
margin-left: -3px;
color: #000000;
font-size: 16px;
line-height: 1.3;
font-weight: 400;
padding-bottom: 0;
}
hr {
display: block;
height: 1px;
border: 0;
border-top: 1px solid #000000;
margin: 0 auto;
padding: 0;
width: 90%;
}
a {
color: #000000;
text-decoration: underline;
}
a:hover {
color: #333333;
text-decoration: none;
}
.container {
padding: 0;
max-width: 600px;
}
.alert-success {
background-color: #ffffff;
color: #000000;
font-family: 'Gibson', sans-serif;
border:1px solid #000000;
}
.btn {
color: #FFFFFF;
background-color: #000000;
border-color: #000000;
border-radius: 0px;
font-family: 'Gibson', sans-serif;
font-size: 12px;
font-weight: 600;
letter-spacing: 4px;
padding: 16px 30px !important;
text-transform: uppercase;
text-decoration: none;
}
.btn:hover, .btn:focus {
color: #FFFFFF !important;
background-color: #333333 !important;
transition: 0.2s ease-in-out;
}
.radio input[type="radio"],
.radio-inline input[type="radio"],
.checkbox input[type="checkbox"],
.checkbox-inline input[type="checkbox"] {
margin-left: -25px;
width: 12px;
height: 12px;
}
  .checkbox label, .radio label {
  padding-left: 25px;
  }
  input[type='radio']:after {
  width: 14px;
  height: 14px;
  border-radius: 14px;
  top: -2px;
  left: 0px;
  position: relative;
  background-color: #FFFFFF;
  content: '';
  display: inline-block;
  visibility: visible;
  border: 1px solid #000000;
  }
  input[type='radio']:checked:after {
  width: 14px;
  height: 14px;
  border-radius: 14px;
  top: -2px;
  left: 0px;
  position: relative;
  background-color: #000000;
  content: '';
  display: inline-block;
  visibility: visible;
  box-shadow: inset 0px 0px 0px 2px #FFFFFF;
  border: 1px solid #000000;
  }
  input[type='checkbox']:after {
  width: 14px;
  height: 14px;
  border-radius: 0px;
  top: -2px;
  left: 0px;
  position: relative;
  background-color: #FFFFFF;
  content: '';
  display: inline-block;
  visibility: visible;
  border: 1px solid #000000;
  }
  input[type='checkbox']:checked:after {
  width: 14px;
  height: 14px;
  border-radius: 0px;
  top: -2px;
  left: 0px;
  position: relative;
  background-color: #000000;
  content: '';
  display: inline-block;
  visibility: visible;
  box-shadow: inset 0px 0px 0px 2px #FFFFFF;
  border: 1px solid #000000;
  }
.form-horizontal .radio,
.form-horizontal .checkbox {
padding-top: 5px;
padding-bottom: 5px;
}
.flash {
padding: 0 20px;
}
.logo {
padding: 40px 0 20px 0;
}
.banner {
margin: 0 auto;
padding: 0;
}
.section {
background-color: #FFFFFF;
padding: 40px;
}
.section .options {
padding: 10px 0 20px 0;
}
.section .button {
padding: 20px 0;
text-align: center;
}
.section h1 {
padding-bottom: 10px;
text-align: center;
}
.section h2 {
padding-bottom: 10px;
text-align: center;
}
.section p {
text-align: left;
padding-bottom: 0px;
}
.section label {
text-align: left;
margin: 0;
}
.footer {
background-color: #FFFFFF;
padding: 20px;
}
.footer p {
font-size: 14px;
text-align: center;
padding-bottom: 6px;
}
@media only screen and (max-width:599px) {
.section {
padding: 20px;
}
.footer {
padding: 20px;
}
}
@media only screen and (max-width:339px) {
.section {
padding: 10px;
}
.footer {
padding: 10px;
}
}
@supports (-webkit-touch-callout: none) {
input[type='radio']:after, input[type='radio']:checked:after {
top: -4px;
left: -2px;
}
input[type='checkbox']:after, input[type='checkbox']:checked:after {
top: -4px;
left: -2px;
}
}
</style>

<style type="text/css">
  @font-face {
  font-family: 'Gibson';
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Regular-83b6f53964.eot');
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Regular-83b6f53964.eot?#iefix') format('embedded-opentype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Regular-0218a70f06.woff') format('woff'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Regular-57f50e233a.woff2') format('woff2'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Regular-03e103f694.ttf') format('truetype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Regular-4324ffe5da.svg') format('svg');
  font-weight: 400;
  font-style: normal;
  }
  @font-face {
  font-family: 'Gibson';
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Medium-4beb57ce32.eot');
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Medium-4beb57ce32.eot?#iefix') format('embedded-opentype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Medium-e4017aae5d.woff') format('woff'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Medium-ed6ee483c0.woff2') format('woff2'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Medium-de42c05374.ttf') format('truetype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Medium-899c1081f1.svg') format('svg');
  font-weight: 500;
  font-style: normal;
  }
  @font-face {
  font-family: 'Gibson';
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-SemiBold-0e6b413a6a.eot');
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-SemiBold-0e6b413a6a.eot?#iefix') format('embedded-opentype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-SemiBold-0a8c75d728.woff') format('woff'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-SemiBold-86adfd4a2a.woff2') format('woff2'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-SemiBold-5b6731bcae.ttf') format('truetype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-SemiBold-f6695b0167.svg') format('svg');
  font-weight: 600;
  font-style: normal;
  }
  /*
  @font-face {
  font-family: 'Gibson';
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Bold-3553781778.eot');
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Bold-3553781778.eot?#iefix') format('embedded-opentype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Bold-9ed48ab534.woff') format('woff'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Bold-bb29b3d078.woff2') format('woff2'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Bold-f757368551.ttf') format('truetype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Bold-b640d6d14d.svg') format('svg');
  font-weight: 700;
  font-style: normal;
  }
  @font-face {
  font-family: 'Gibson';
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Heavy-37e9f5b6bd.eot');
  src: url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Heavy-37e9f5b6bd.eot?#iefix') format('embedded-opentype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Heavy-01672a6c46.woff') format('woff'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Heavy-df42b278cc.woff2') format('woff2'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Heavy-51853eb097.ttf') format('truetype'),
       url('https://s3-eu-west-1.amazonaws.com/assets.ometria.email/emails/rhone/assets/fonts/Gibson-Heavy-69282c9f2b.svg') format('svg');
  font-weight: 900;
  font-style: normal;
  }
  */
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>

<script>
$(document).ready(function(){
   if($(".alert.alert-success").is(":visible")){
      $('.success').hide();
   } else {
      $('.success').show();
   }
   $("input[type='radio']").change(function(){
      if($(this).val()=="other"){
         $("#otherAnswer").show();
      } else {
         $("#otherAnswer").hide();
      }
   });
});
</script>

<div class='container' style="text-align: center;">

  <div style="background-color: #FFFFFF; padding: 40px 0 20px 0;">
   <a href="https://www.rhone.com/" target="_blank"><img alt="Rhone" src="
https://cdn-ometria-com.s3-eu-west-1.amazonaws.com/emails/349bacf8ad172254/5b6c20319a555821b89fd4a1a0687bb5.png" style="display: block; width: 128px; height: auto; padding:0; border: none; margin: 0 auto;" /></a>
  </div>

  <div style="background-color: #FFFFFF; padding: 0;">
   <a href="https://www.rhone.com/" target="_blank"><img alt="Rhone" src="
https://cdn-ometria-com.s3-eu-west-1.amazonaws.com/emails/349bacf8ad172254/447a204fbf9daf6eee99208e9049a648.jpg" style="display: block; width: 100%; height: auto; padding:0; border: none; margin: 0 auto;" /></a>
  </div>

  <form action="" class="form-horizontal" method="post">

    <div class="flash">
      {{ flash_messages() }}
    </div>

    <div class="success">
      <div class="section">
        <h1>Email Unsubscribe</h1>
        <p style="text-align: center;">Change what emails you receive by updating your preferences.</p>
        <div style="padding-bottom: 10px; width: 100%;"></div>
        {% if profile.email %} 
        <p style="text-align: center;">Your email address on record is <a href="mailto:{{ profile.email }}">{{ profile.email }}</a></p> 
        {% endif %}
        <div style="padding-bottom: 10px; width: 100%;"></div>
        <div class="button">
          <a class="btn" href="{{ url_for('preferences_centre_view', account_hash=account.hash, profile_hash=profile.hash, route='profile', **request.args)}}" target="_blank"> Update Preferences </a>
        </div>
      </div>
      <hr>
      <div class="section">
        <p>Please provide the reason for unsubscribing below and your preferences will be automatically updated in our database.</p>
        <div style="padding-bottom: 20px; width: 100%;"></div>
        <div class="options">
          <div class="radio">
            <label>
              <input type="radio" name="reason" value="I never subscribed">
              I never subscribed
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="I no longer want to receive these emails">
              I no longer want to receive these emails
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="You send too many emails">
              You send too many emails
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="Your emails are not relevant to me">
              Your emails are not relevant to me
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="I don’t have time to read your emails">
              I don’t have time to read your emails
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="Your email designs don’t appeal to me">
              Your email designs don’t appeal to me
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="Your emails don't look good on my smartphone">
              Your emails don’t look good on my smartphone
            </label>
         </div>
         <div class="radio">
            <label>
              <input type="radio" name="reason" value="other" id="other-radio">
              Other (fill below):
            </label>
          </div>
          <div class="form-group" style="display:none;" id="otherAnswer">
            <div class="col-sm-6" style="padding-top: 16px;">
              <input class="form-control" data-field="reason:other" name="reason:other" value="" />
            </div>
          </div>
        </div>
        <div class="button">
            <input class="btn" name="action:unsubscribe" type="submit" value="Unsubscribe Me" />
        </div>
      </div>
    </div>
  </form>
  <div class="footer">
    <p> If you have any questions about your email preferences, please contact our customer service team <a href="mailto:service@rhone.com?subject=Email%20Preferences">service@rhone.com</a>. 
    You can review our <a href="https://www.rhone.com/pages/privacy-policy">Privacy Policy here</a>.</p>
  </div>
  <script>
    document.querySelector('form').addEventListener('change', function(e) {
    if (e.target.id === 'other-radio')
    document.getElementById('other-text').classList.remove('hide');
    else if (e.target.name === 'reason')
    document.getElementById('other-text').classList.add('hide');
    })
    </script>
</div>